#include <iostream>

#include <tinympc/tiny_api.hpp>

#define NSTATES 15
#define NINPUTS 8

#define NHORIZON 20
#define NTOTAL 6000

extern "C" {

typedef Matrix<tinytype, NINPUTS, NHORIZON-1> tiny_MatrixNuNhm1;
typedef Matrix<tinytype, NSTATES, NHORIZON> tiny_MatrixNxNh;
typedef Matrix<tinytype, NSTATES, 1> tiny_VectorNx;

int main() {
    
    TinySolver *solver;

    float rho_value = 1.0;
 // state space matrices from the 051424 LH703 Hemisphere
    tinytype Adyn_data[NSTATES * NSTATES] =  
    {0.9226,    -0.1142,  -0.2355,   -0.0059,    0.0141,    0.1186,   -0.0559,    0.0450,   -0.0520,    0.0194,   -0.0318,    0.0150,   -0.0745,   -0.0356,   -0.0058;
    0.0759,    0.9071,    0.1157,    0.2318,   -0.1895,    0.0010,   -0.1069,    0.0730,   -0.0311,    0.0147,   -0.0270,    0.0215,    0.0805,    0.0651,    0.0614;
    0.0868,   -0.1239,    0.8766,    0.1538,   -0.2640,    0.0126,   -0.0754,    0.1224,    0.3073,   -0.1395,    0.0911,   -0.0168,    0.1884,    0.0103,   -0.0118;
   -0.0432,   -0.0614,   -0.1188,    0.8703,   -0.0097,    0.0613,   -0.0446,    0.0519,    0.1432,   -0.0473,    0.0712,   -0.0670,    0.3919,    0.0954,    0.1366;
    0.0298,    0.0200,    0.1015,    0.1181,    0.7942,   -0.0929,    0.0853,   -0.0117,   -0.0421,    0.0426,   -0.0309,    0.0261,   -0.4844,   -0.2362,   -0.1029;
   -0.0415,    0.0179,    0.0174,   -0.0860,    0.1518,    0.9018,    0.0249,   -0.1342,   -0.2015,    0.0379,   -0.0855,   -0.0315,   -0.0222,   -0.0206,   -0.0177;
    0.0288,    0.0264,   -0.0175,    0.0349,   -0.0407,    0.0021,    0.8824,    0.0357,    0.1156,   -0.0145,    0.0201,    0.0785,   -0.1816,   -0.0089,   -0.0989;
   -0.0322,    0.0035,   -0.0049,   -0.0653,    0.1030,    0.0705,    0.0131,    0.8218,   -0.0343,   -0.0193,   -0.0484,   -0.0263,    0.2460,    0.1111,    0.0470;
    0.0038,    0.0728,   -0.0354,   -0.1212,    0.1496,    0.0457,   -0.0472,   -0.0405,    0.7141,    0.0015,   -0.0398,   -0.0250,    0.3962,    0.1188,    0.1576;
   -0.0061,   -0.0198,    0.0139,    0.0506,   -0.0616,   -0.0057,   -0.0130,    0.0121,    0.0706,    0.8731,    0.0321,    0.0305,   -0.1432,   -0.0506,   -0.1312;
    0.0109,    0.0227,    0.0130,   -0.0239,    0.0854,    0.0428,   -0.0086,   -0.0212,   -0.0815,    0.0379,    0.8533,    0.0127,    0.0917,    0.0528,    0.0497;
   -0.0135,   -0.0082,   -0.0025,    0.0107,   -0.0239,   -0.0080,   -0.0039,    0.0061,    0.0190,   -0.0404,    0.0286,    0.8245,   -0.0013,   -0.0207,   -0.0424;
    0.0232,   -0.0039,   -0.0075,   -0.0534,    0.1254,    0.0483,    0.0755,   -0.1132,   -0.3258,    0.1380,   -0.1465,    0.0450,    0.8487,   -0.0591,    0.1363;
    0.0154,   -0.0242,   -0.0060,    0.0207,    0.0444,    0.0277,    0.0285,   -0.0034,   -0.0643,    0.0343,   -0.0723,    0.0293,   -0.0756,    0.7479,    0.0350;
   -0.0030,   -0.0151,    0.0211,   -0.0255,    0.0284,    0.0181,    0.0241,   -0.0290,   -0.0435,    0.0309,   -0.0550,    0.0217,   -0.0839,    0.0060,    0.7851;}

    tinytype Bdyn_data[NSTATES * NINPUTS] = {
    -0.0083,   -0.0168,   -0.0737,   -0.0735,   -0.0983,   -0.1079,   -0.0729,   -0.0423;
    -0.0188,   -0.0212,    0.0296,    0.0332,    0.0242,    0.0367,    0.0061,   -0.0014;
    -0.0088,    0.0014,    0.0709,    0.0729,    0.0846,    0.1223,    0.0803,    0.0479;
    -0.0272,   -0.0431,   -0.0516,   -0.0361,   -0.0567,   -0.0498,   -0.0402,   -0.0257;
    0.0236,    0.0356,    0.0638,    0.0481,    0.0706,    0.0608,    0.0483,    0.0325;
    -0.0058,   -0.0345,   -0.1068,   -0.0890,   -0.1095,   -0.1332,   -0.0880,   -0.0513;
    0.0246,    0.0540,    0.0795,    0.0632,    0.0816,    0.0998,    0.0848,    0.0621;
    -0.0230,   -0.0463,   -0.0829,   -0.0694,   -0.0947,   -0.1105,   -0.0801,   -0.0508;
    -0.0059,   -0.0084,   -0.0342,   -0.0192,   -0.0030,    0.0325,    0.0388,    0.0390;
    -0.0007,    0.0076,    0.0141,    0.0022,   -0.0028,   -0.0058,   -0.0157,   -0.0193;
    0.0022,    0.0060,   -0.0033,   -0.0042,    0.0124,    0.0236,    0.0329,    0.0339;
    -0.0066,   -0.0078,   -0.0094,   -0.0132,   -0.0226,   -0.0289,   -0.0318,   -0.0241;
    -0.0089,   -0.0432,   -0.1021,   -0.0501,   -0.0515,   -0.0519,   -0.0214,   -0.0013;
    -0.0070,   -0.0176,   -0.0349,   -0.0217,   -0.0244,   -0.0214,   -0.0242,   -0.0186;
    -0.0036,   -0.0147,   -0.0378,   -0.0288,   -0.0465,   -0.0613,   -0.0451,   -0.0347;}

   tinytype Cdyn_data [NOUTPUTS * NSTATES] = {
   -1.7272,   -0.7656,   -0.5919,    0.3249,   -0.3651,    0.3860,   -0.3741,    0.3464,   -0.0272,    0.0310,   -0.0688,    0.1212,   -0.2485,   -0.0950,    0.0096;
   -0.5633,    1.0772,   -0.8069,   -0.3016,    0.0410,    0.2873,    0.1250,    0.0169,    0.3970,   -0.2029,    0.1612,   -0.0595,    0.0043,   -0.1885,   -0.1372;
    0.0014,    0.0462,    0.5086,    0.1265,    0.3383,    0.6237,    0.1884,   -0.0914,   -0.1459,    0.0551,   -0.0696,   -0.0165,    0.0393,    0.0347,    0.0891;
    0.0191,    0.0702,    0.2422,   -0.5560,   -0.3677,    0.0928,    0.2288,    0.3738,   -0.1217,    0.0913,    0.0134,   -0.1002,   -0.0308,   -0.1578,    0.1435;
   -0.1028,    0.3213,    0.1600,   -0.4033,    0.6630,    0.0518,   -0.4383,    0.3103,    0.1110,    0.0025,    0.0179,    0.0736,    0.1878,    0.1435,   -0.0032;
    0.0808,   -0.0006,    0.1820,   -0.3210,   -0.2233,    0.1519,   -0.3496,   -0.4264,    0.0068,   -0.1635,   -0.0267,    0.0876,   -0.0130,    0.0084,    0.0010;
    0.0070,   -0.0381,   -0.0157,    0.1144,    0.0970,   -0.0937,   -0.0073,    0.1252,   -0.3863,   -0.4592,    0.0419,   -0.1292,    0.0712,   -0.0399,   -0.0656;
   -0.0463,   -0.0365,   -0.0436,   -0.0262,   -0.0065,    0.0000,    0.1757,    0.0556,    0.1889,   -0.2636,   -0.1711,    0.2746,   -0.1108,    0.1824,    0.1163;
    0.0302,    0.0019,    0.0663,    0.0265,   -0.0133,    0.0453,    0.0264,    0.0553,   -0.1415,    0.0462,    0.4114,    0.2354,   -0.0201,    0.1015,    0.1305;
    0.0165,   -0.0154,   -0.0278,   -0.0304,   -0.0895,    0.0853,    0.0115,    0.0299,    0.0026,   -0.0039,    0.0860,   -0.1325,   -0.1323,    0.3563,   -0.3248;
    0.0007,   -0.0118,    0.0023,    0.0888,   -0.0034,   -0.0348,    0.0622,    0.0120,   -0.2134,    0.0912,   -0.2667,    0.2201,    0.1992,   -0.0247,   -0.1966;
   -0.0136,    0.0023,   -0.0409,    0.0485,   -0.0064,   -0.0189,   -0.0553,    0.0040,    0.0096,    0.0603,   -0.1537,   -0.2465,   -0.0488,    0.1526,    0.2039;}

}
}